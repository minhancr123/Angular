<!-- Table container -->
<div class="table-container">
  <table
    mat-table
    class="table table-head-custom table-vertical-center overflow-hidden"
    [dataSource]="loListService.items$ | async"
  >
    <!-- STT -->
    <ng-container matColumnDef="stt">
      <th mat-header-cell *matHeaderCellDef> STT </th>
      <td mat-cell *matCellDef="let row; let i = index">
        {{ i + 1 + (paginator.page - 1) * paginator.pageSize }}
      </td>
    </ng-container>

    <!-- MaLo -->
    <ng-container matColumnDef="MaLo">
      <th mat-header-cell *matHeaderCellDef> Mã Lô </th>
      <td mat-cell *matCellDef="let row"> {{ row.MaLo }} </td>
    </ng-container>

    <!-- TenLo -->
    <ng-container matColumnDef="TenLo">
      <th mat-header-cell *matHeaderCellDef> Tên Lô </th>
      <td mat-cell *matCellDef="let row"> {{ row.TenLo }} </td>
    </ng-container>

    <!-- NgayNhap -->
    <ng-container matColumnDef="NgayNhap">
      <th mat-header-cell *matHeaderCellDef> Ngày Nhập </th>
      <td mat-cell *matCellDef="let row"> {{ format_date(row.NgayNhap) }} </td>
    </ng-container>

    <!-- GhiChu -->
    <ng-container matColumnDef="GhiChu">
      <th mat-header-cell *matHeaderCellDef> Ghi chú </th>
      <td mat-cell *matCellDef="let row"> {{ row.GhiChu }} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr
      mat-row
      *matRowDef="let row; columns: displayedColumns"
      [ngClass]="{ hovered: row.hovered, highlighted: row.highlighted }"
      (mouseover)="row.hovered = true"
      (mouseout)="row.hovered = false"
    ></tr>
  </table>
</div>

<!-- Pagination component - OUTSIDE the table -->
<app-paginator
  class="d-flex justify-content-between align-items-center flex-wrap"
  [paginator]="paginator"
  [isLoading]="isLoading"
  (paginate)="paginate($event)"
></app-paginator>